@using Squawkings.Controllers
@using Squawkings.Models
@model Squawkings.Controllers.SquawkDispsViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <div class="container">
        <div id="header">
            <div id="global-header-text">
                My Squawks
           </div>
            <div class="global-header-text-small">
                See everything happening right now
            </div>
        </div>
        
        @using (Html.Form<LogonInputModel>("logoff","logon")) {
            <div class="squawk-post">
                <div class="squawk-post-top">
                    <textarea cols="110" rows="4">This is my first squawk!</textarea>
                </div>
                <div class="squawk-post-bottom">
                    <input id="post-button" type="button" value="Squawk" />
                </div>
            </div>  
         }
        
        <div class="squawks-container">
            @foreach (var item in Model.SquawkDisps.Track())
            {
                <div class="squawk-item">
                    <div class="squawk-item-image">
                        <a href="@Url.Action("Index")">
                            <img src="../../Content/Images/@(item.AvatarUrl)" alt="View" />
                        </a>
                    </div>
                    <div class="squawk-item-inner">
                        <div>
                            <span class="squawk-item-name">
                                @Html.Display(x=>x.SquawkDisps[Loop.Index].Username)
                            </span> 
                            <span>
                                @Html.Display(x=>x.SquawkDisps[Loop.Index].FullName)
                            </span>
                        </div>
                        <div class="squawk-item-text">
                            @Html.Display(x=>x.SquawkDisps[Loop.Index].Content)
                        </div>
                        <div class="squawk-item-time">
                            @Html.Display(x=>x.SquawkDisps[Loop.Index].Time)
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

</div>
